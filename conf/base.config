process {
  withName:COLLECT_READ_COUNTS { cpus = 4; memory = '12.GB'; time = '8.h' }
  withName:CREATE_READCOUNT_PON { cpus = 4; memory = '12.GB'; time = '8.h' }
  withName:DENOISE_READ_COUNTS  { cpus = 4; memory = '12.GB'; time = '8.h' }
  withName:COLLECT_ALLELIC_COUNTS { cpus = 2; memory = '8.GB'; time = '8.h' }
  withName:MODEL_SEGMENTS       { cpus = 4; memory = '16.GB'; time = '12.h' }
  withName:CALL_COPYRATIO_SEGMENTS { cpus = 2; memory = '4.GB'; time = '4.h' }
  withName:PREPROCESS_INTERVALS { cpus = 2; memory = '4.GB'; time = '2.h' }
  withName:ANNOTATE_INTERVALS   { cpus = 2; memory = '4.GB'; time = '2.h' }

  errorStrategy = { task.attempt <= 2 ? 'retry' : 'terminate' }
  maxRetries = 2

  publishDir = [
    path: { "${params.outdir}/${task.process}".toString() },
    mode: params.publish_dir_mode
  ]
}

params {
  // keep empty; overridden in nextflow.config or CLI
}